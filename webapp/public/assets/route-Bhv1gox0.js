import{j as e,r as o}from"./jsx-runtime-56DGgGmo.js";import{g as j}from"./api-components-dDIZztSJ.js";import{C as h}from"./chair-PB3Jm0Ii.js";import{T as l}from"./text-DfCqYLRl.js";import{P as u}from"./price-D-o-ix3Y.js";import{t as d}from"./bundle-mjs-Dnoi3Axr.js";import{R as p}from"./rating-star-gH9aOYPH.js";import"./colors-DB9lnfSt.js";const N=new Intl.DateTimeFormat("ja-JP",{dateStyle:"medium",timeZone:"Asia/Tokyo"}),g=({value:s,...r})=>e.jsx(l,{...r,children:N.format(s)}),y=({children:s,className:r,...t})=>e.jsx("ul",{...t,className:r,children:s}),x=({children:s,className:r,...t})=>e.jsx("li",{className:d("border-b",r),...t,children:s}),w=({size:s=40,rating:r,className:t,...n})=>e.jsx("div",{className:d("flex flex-row gap-1",t),...n,children:Array.from({length:5}).map((c,a)=>{const i=a+1;return e.jsx(p,{rated:i<=r,width:s,height:s},a)})}),z=()=>[{title:"History | ISURIDE"},{name:"description",content:"椅子の配車履歴"}];function A(){const[s,r]=o.useState([]);return o.useEffect(()=>{(async()=>{try{const t=await j({});r(t.rides)}catch(t){console.error(t)}})()},[]),e.jsxs("section",{className:"mx-8 flex-1",children:[e.jsx("h2",{className:"text-xl my-6",children:"履歴"}),e.jsxs(y,{className:"border-t",children:[s.length===0&&e.jsx(x,{children:e.jsx(l,{className:"py-10 text-neutral-500",children:"椅子の乗車履歴はありません"})}),s.map(({id:t,fare:n,completed_at:c,pickup_coordinate:a,destination_coordinate:i,chair:m,evaluation:f})=>e.jsxs(x,{className:"py-4",children:[e.jsxs("div",{className:"flex justify-between mb-3",children:[e.jsxs("div",{className:"flex-grow space-y-1.5",children:[e.jsx(g,{value:c,tagName:"span",className:"font-bold",size:"xl"}),e.jsx(l,{size:"sm",children:`[${a.latitude}, ${a.longitude}] から [${i.latitude}, ${i.longitude}] への移動`})]}),e.jsx(u,{value:n})]}),e.jsxs("div",{className:"flex space-x-2 items-center bg-neutral-100 py-2 px-4 rounded-md justify-between w-full",children:[e.jsxs("div",{className:"flex space-x-4 items-center",children:[e.jsx(h,{model:m.model,width:20,height:20,className:"shrink-0"}),e.jsxs("div",{className:"flex items-baseline flex-col",children:[e.jsx(l,{tagName:"span",children:m.name}),e.jsx(l,{size:"xs",tagName:"span",className:"text-neutral-500",children:m.model})]})]}),e.jsx(w,{rating:f,size:20})]})]},t))]})]})}export{A as default,z as meta};

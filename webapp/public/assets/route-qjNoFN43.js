import{j as e,r as i}from"./jsx-runtime-56DGgGmo.js";import{C as d}from"./chair-PB3Jm0Ii.js";import{P as x,a as p}from"./price-D-o-ix3Y.js";import{D as c}from"./date-input-Br46mw6i.js";import{T as h}from"./text-DfCqYLRl.js";import{u as m}from"./owner-context-DCgOhQtd.js";import"./colors-DB9lnfSt.js";import"./bundle-mjs-Dnoi3Axr.js";import"./api-components-dDIZztSJ.js";import"./get-cookie-value-B3QhECDc.js";import"./index-9ZhTBp7q.js";const P=()=>[{title:"売上一覧 | Owner | ISURIDE"},{name:"description",content:"椅子の売上一覧"}],j=[{key:"chair",label:"椅子別"},{key:"model",label:"モデル別"}],u=()=>{const{since:l,until:a,setSince:t,setUntil:n}=m();return e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx(c,{id:"sales-since",name:"since",className:"w-48",defaultValue:l,onChange:r=>t==null?void 0:t(r.target.value)}),"→",e.jsx(c,{id:"sales-until",name:"until",className:"w-48",defaultValue:a,onChange:r=>n==null?void 0:n(r.target.value),min:l})]})},f=({chairs:l,sales:a})=>{const[t,n]=i.useState("chair"),r=i.useMemo(()=>new Map(l==null?void 0:l.map(s=>[s.id,s.model])),[l]),o=i.useMemo(()=>a?t==="chair"?a.chairs.map(s=>({key:s.id,name:s.name,model:r.get(s.id)??"",sales:s.sales})):a.models.map(s=>({key:s.model,name:s.model,model:s.model,sales:s.sales})):[],[a,t,r]);return e.jsxs("div",{className:"flex flex-col mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"my-4 space-x-4",children:j.map(s=>e.jsxs("label",{htmlFor:`sales-view-type-${s.key}`,children:[e.jsx("input",{type:"radio",id:`sales-view-type-${s.key}`,checked:s.key===t,onChange:()=>n(s.key),className:"me-1"}),s.label]},s.key))}),e.jsx(x,{pre:"合計",value:a.total_sales,className:"font-bold"})]}),e.jsxs("table",{className:"text-sm",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{className:"text-gray-500",children:[e.jsx("th",{className:"px-4 py-3 text-left",children:t==="chair"?"椅子":"モデル"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"売上"})]})}),e.jsx("tbody",{children:o.map(s=>e.jsxs("tr",{className:"border-b hover:bg-gray-50 transition",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(d,{model:s.model,className:"shrink-0 size-6 me-2"}),e.jsx("span",{children:s.name})]})}),e.jsx("td",{className:"p-4",children:e.jsx(p,{value:s.sales,className:"justify-end"})})]},s.key))})]})]})},y=i.memo(function({chairs:a,sales:t}){return e.jsx(f,{chairs:a,sales:t})},(l,a)=>l.chairs===a.chairs&&l.sales===a.sales);function S(){const{sales:l,chairs:a}=m();return e.jsxs("div",{className:"min-w-[800px] w-full",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(u,{})}),l&&a?e.jsx(y,{chairs:a,sales:l}):e.jsx(h,{className:"px-2 py-8",children:"該当するデータがありません"})]})}export{S as default,P as meta};
